define(["require","flight/component","data/with_canvas","ui/with_paint_shape","fabric","outlinePainter/circle"],function(t){function e(){this.defaultAttrs({type:"circle"}),this.getOutlinePainter=function(){return o.init(this.attr.canvas,{color:this.attr.brush.color})},this.afterFinishCallback=function(){this.trigger(this.attr.canvasEl,"paintStopRequested"),this.attr.circle=this.attr.outlinePainter.outline,this.createShapeBrush()},this.createShapeBrush=function(){var e="shapeBrush/circle-"+this.attr.brushId,i=this,r=this.attr.circle;t([e],function(t){t.create(i.attr.canvas,{x:r.x,y:r.y,radius:r.radius,color:i.attr.brush.color,brushWidth:i.attr.brush.width}),i.attr.canvas.renderAll()}),i.attr.circle=null}}var i=t("flight/component"),r=t("data/with_canvas"),n=t("ui/with_paint_shape"),o=(t("fabric"),t("outlinePainter/circle"));return i(e,r,n)});