define(["require"],function(){function t(t,e){e=e||{},this.canvas=t,this.brushColor=e.color||"#000000",this.canvas.selection=!1,this.isDrawing=!1,this.outline=void 0,this.canvas.defaultCursor="crosshair"}return t.prototype.onMouseDown=function(t){var e=this.canvas.getPointer(t.e);return this.outline={x1:e.x,y1:e.y,x2:e.x+1,y2:e.y+1},this.isDrawing=!0,this},t.prototype.onMouseMove=function(t){if(this.isDrawing){var e=this.canvas.getPointer(t.e);this.outline.x2=e.x,this.outline.y2=e.y,this.renderOutline()}return this},t.prototype.onMouseUp=function(){return this.canvas.defaultCursor="default",this.isDrawing=!1,this.finish(),this},t.prototype.finish=function(){return this.canvas.clearContext(this.canvas.contextTop),this.canvas.selection=!0,this},t.prototype.renderOutline=function(){var t=this.canvas.contextTop;return t.save(),t.lineWidth=1,t.strokeStyle=this.brushColor,t.beginPath(),t.moveTo(this.outline.x1,this.outline.y1),t.lineTo(this.outline.x2,this.outline.y2),t.stroke(),t.restore(),this},{init:function(e,i){return new t(e,i)}}});