define(["require","flight/component"],function(t){function e(){this.defaultAttrs({brushes:{defaultBrush:"pencil",selected:"pencil",selectedId:"pencilBrush",brushes:[{value:"Pencil",id:"pencilBrush"},{value:"Spray",id:"sprayBrush"},{value:"Circle",id:"circleBrush"},{value:"Hollow Circle",id:"hollowCircleBrush"},{value:"Hollow Square",id:"hollowSquareBrush"},{value:"Circular Pattern",id:"circularPatternBrush"},{value:"Vertical Line",id:"verticalLineBrush"},{value:"Horizontal Line",id:"horizontalLineBrush"}]}}),this.after("initialize",function(){this.on(document,"brushesRequested",this.onBrushesRequested),this.on(document,"brushClicked",this.onBrushClicked),this.on(document,"selectedBrushRequested",this.onSelectedBrushRequested)}),this.onBrushesRequested=function(){this.trigger(document,"brushesReady",{brushes:this.attr.brushes})},this.onBrushClicked=function(t,e){var i=this.findBrush(e.brushId);i&&(this.attr.brushes.selectedId=e.brushId,this.attr.brushes.selected=i,this.trigger(document,"brushSelectionChanged",{brushes:this.attr.brushes}),this.publishSelectedBrush())},this.findBrush=function(t){for(var e,i=this.attr.brushes.brushes,r=i.length;r--;)if(i[r].id===t){e=i[r].value;break}return e},this.onSelectedBrushRequested=function(){this.publishSelectedBrush()},this.publishSelectedBrush=function(){var e=this,i="brushes/"+this.attr.brushes.selectedId;t([i],function(t){e.trigger(document,"selectedBrushReady",{selected:e.attr.brushes.selected,selectedId:e.attr.brushes.selectedId,brush:t})})}}var i=t("flight/component");return i(e)});