define(["require","fabric","utils/rectOutlinePoints","utils/circleOutlinePoints","utils/lineOutlinePoints"],function(t){var e=t("fabric"),i=t("utils/rectOutlinePoints"),r=t("utils/circleOutlinePoints"),n=t("utils/lineOutlinePoints");return{create:function(t){var i=new e.PatternBrush(t);return i.getPatternSrc=function(){var t=e.document.createElement("canvas");t.width=t.height=10;var i=t.getContext("2d");return i.strokeStyle=this.color,i.lineWidth=5,i.beginPath(),i.moveTo(5,0),i.lineTo(5,10),i.closePath(),i.stroke(),t},i},createOutline:function(t,e,o){return"rect"===e?i(t,o.x,o.y,o.width,o.height):"circle"===e?r(t,o.x,o.y,o.radius):"line"===e?n(t,o.x1,o.y1,o.x2,o.y2):void 0},createShapeBrush:function(t,i){var r=this.create(t);r.width=i.brushWidth||10,r.color=i.color;for(var n=this.createOutline(r,i.shape,i),o=n.length-1;o>=0;o--)r._points.push(new e.Point(n[o].x,n[o].y));r._finalizeAndAddPath()}}});